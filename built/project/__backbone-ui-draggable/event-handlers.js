define(["require","exports","module"],function(e,t,n){t.mousedown=function(t){if(this.$el.is(t.target)&&t.which===1&&this.draggableEnabled()){this.lastPosition={x:t.pageX,y:t.pageY};var n=this.$el.offset();return this.handlePosition={x:t.pageX-n.left,y:t.pageY-n.top},this.$window.on("mousemove",this.mousemove).on("mouseup",this.mouseup),this.trigger("movestart",this),!1}},t.mousemove=function(t){var n=this.lastPosition,r=t.pageX,i=t.pageY,s=r-n.x,o=i-n.y,u=this.$el.offset(),a=this.handlePosition.x+u.left,f=this.handlePosition.y+u.top;return(s>0&&r>a||s<0&&r<a)&&this.moveX(s,{agent:"mousemove"}),(o>0&&i>f||o<0&&i<f)&&this.moveY(o,{agent:"mousemove"}),n.x=r,n.y=i,!1},t.mouseup=function(){this.$window.off("mousemove",this.mousemove),delete this.lastPosition,this.trigger("movestop",this)}});