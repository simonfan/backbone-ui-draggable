define(["require","exports","module","lodash"],function(e,t,n){function i(e){this.moveX(e.left,{force:!0}),this.moveY(e.top,{force:!0})}var r=e("lodash");n.exports=function(t,n){var s=parseFloat(t.top),o=parseFloat(t.left),u={};if(!isNaN(s)){var a=parseFloat(this.get("top")),f=s-a,l=this.yAllowedDelta(f);t.top=a+l,u.top=f-l}if(!isNaN(o)){var c=parseFloat(this.get("left")),f=o-c,l=this.xAllowedDelta(f);t.left=c+l,u.left=f-l}n=n||{},n=r.isObject(n)?n:{duration:arguments[1],easing:arguments[2],complete:arguments[3]};var h=n.progress,p=this.$el.position();return n.progress=r.bind(function(){h&&h.apply(this.$el,arguments);var e=this.$el.position(),t={top:e.top-p.top,left:e.left-p.left};i.call(this,t),p=e},this),this.$el.animate(t,n),this}});